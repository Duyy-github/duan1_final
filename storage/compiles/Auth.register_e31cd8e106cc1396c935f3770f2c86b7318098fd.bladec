<!DOCTYPE html>
<html lang="vi">

<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Đăng ký tài khoản</title>
 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
 <div class="container mt-5" style="max-width: 500px;">
 <h2 class="mb-4">Đăng ký tài khoản</h2>

 <?php if(isset($_SESSION['flash'])): ?>
 <?php $__currentLoopData = $_SESSION['flash']; $this->addLoop($__currentLoopData);$this->getFirstLoop();
 foreach($__currentLoopData as $type => $messages): $loop = $this->incrementLoopIndices();  ?>
 <div class="alert alert-<?php echo \htmlentities($type === 'success' ? 'success' : 'danger'??'', ENT_QUOTES, 'UTF-8', false); ?>">
 <?php if(is_array($messages)): ?>
 <?php $__currentLoopData = $messages; $this->addLoop($__currentLoopData);$this->getFirstLoop();
 foreach($__currentLoopData as $message): $loop = $this->incrementLoopIndices();  ?>
 <p><?php echo \htmlentities($message??'', ENT_QUOTES, 'UTF-8', false); ?></p>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>
 <?php else: ?>
 <p><?php echo \htmlentities($messages??'', ENT_QUOTES, 'UTF-8', false); ?></p>
 <?php endif; ?>
 </div>
 <?php endforeach; $this->popLoop(); $loop = $this->getFirstLoop(); ?>
 <?php unset($_SESSION['flash']);  ?>
 <?php endif; ?>

 <form action="<?php echo \htmlentities(route('register')??'', ENT_QUOTES, 'UTF-8', false); ?>" method="POST" autocomplete="off">
 <input type='hidden' name='<?php  echo '_token'; ?>' value='<?php echo $this->csrf_token; ?>'/>
 <div class="mb-3">
 <label for="username" class="form-label">Họ tên</label>
 <input type="text" class="form-control" id="username" name="username" required
 value="<?php echo \htmlentities($_POST['username'] ?? ''??'', ENT_QUOTES, 'UTF-8', false); ?>" autocomplete="name">
 </div>
 <div class="mb-3">
 <label for="email" class="form-label">Địa chỉ email</label>
 <input type="email" class="form-control" id="email" name="email" required
 value="<?php echo \htmlentities($_POST['email'] ?? ''??'', ENT_QUOTES, 'UTF-8', false); ?>" autocomplete="email">
 </div>
 <div class="mb-3">
 <label for="password" class="form-label">Mật khẩu</label>
 <input type="password" class="form-control" id="password" name="password" required
 autocomplete="new-password" minlength="6">
 </div>
 <div class="mb-3">
 <label for="confirm_password" class="form-label">Nhập lại mật khẩu</label>
 <input type="password" class="form-control" id="confirm_password" name="confirm_password" required
 autocomplete="new-password">
 </div>
 <button type="submit" class="btn btn-primary w-100">Đăng ký</button>
 </form>
 <p class="mt-3 text-center">Đã có tài khoản? <a href="<?php echo \htmlentities(route('login')??'', ENT_QUOTES, 'UTF-8', false); ?>">Đăng nhập</a></p>
 </div>
</body>

</html>